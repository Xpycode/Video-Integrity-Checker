# Session: 2026-02-18

## Goal
Add XcodePreviews (PreviewBuild) tool to the ecosystem and install globally for all projects.

## Context
- Previous session: 2026-02-02 (cookbook + commands sync)
- Current phase: implementation

## Progress

### Completed
- [x] Cloned `Iron-Ham/XcodePreviews` to `~/XcodePreviews`
- [x] Installed `/preview` command globally → `~/.claude/commands/preview.md`
- [x] Made all scripts executable
- [x] Added XcodePreviews entry to `26_ecosystem.md` (alongside Playwright, Firecrawl, etc.)
- [x] Added XcodePreviews section to global `~/.claude/CLAUDE.md` with triggers and usage
- [x] Tested on Group Alarms project — app builds and screenshot capture works

### Discovered
- The preview tool defaults to "standalone" mode for files with only system imports, even when the file depends on project-internal types. Need `--scheme` + `--project` flags for real project files.
- Simulator interaction (tap, scroll) requires `cliclick` (not installed) — without it, can't navigate within the app programmatically.
- Sim version mismatch: booted sim was iOS 26.0, but Xcode builds against 26.2 SDK. Need matching sim.

### Blockers
- `cliclick` not installed — needed for tap/scroll interaction with simulator via AppleScript

## Next Session
- Install `cliclick` via Homebrew for full simulator interaction
- Consider adding a `--navigate` option or deep-link support to the preview workflow
- Test `/preview` on a standalone SwiftUI file with `#Preview` block (the intended fast path)

## Notes
- The tool's fastest mode (~3-4s) uses dynamic preview injection with `#Preview` blocks. SettingsView doesn't have one, so the full scheme build was needed (~longer).
- Bundle ID gotcha: the project uses `LucesUmbrarum.GroupAlarms`, not what you'd guess.
